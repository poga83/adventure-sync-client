<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Adventure Sync</title>

  <!-- –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/trip-planning.css">

  <link rel="icon" href="./icon/favicon.png" />
</head>
<body>
  <!-- ==== LOGIN MODAL ================================================== -->
  <div id="loginModal" class="login-modal active">
    <div class="login-content">
      <div class="login-header">
        <h2>Adventure Sync</h2>
        <p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</p>
      </div>

      <form id="loginForm" class="login-form">
        <div class="input-group">
          <label for="nickname">–ù–∏–∫–Ω–µ–π–º</label>
          <div class="input-wrapper">
            <i class="fas fa-user"></i>
            <input id="nickname" maxlength="20" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º">
          </div>
          <div id="nicknameError" class="nickname-error hidden"></div>
        </div>

        <div class="input-group">
          <label for="status">–°—Ç–∞—Ç—É—Å</label>
          <div class="input-wrapper">
            <i class="fas fa-circle"></i>
            <select id="status" required>
              <option value="auto">üöó –ê–≤—Ç–æ</option>
              <option value="moto">üèç –ú–æ—Ç–æ</option>
              <option value="walking">üö∂ –ü–µ—à–∫–æ–º</option>
              <option value="busy">üö´ –ó–∞–Ω—è—Ç</option>
            </select>
          </div>
        </div>

        <button id="loginBtn" class="login-btn" type="submit">
          <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
        </button>
      </form>
    </div>
  </div>
  <!-- ==== MAIN APP ===================================================== -->
  <div id="app" class="hidden">
    <header class="app-header">
      <button id="menuToggle" class="menu-toggle">
        <span></span><span></span><span></span>
      </button>
      <h1>Adventure Sync</h1>
      <div class="header-controls">
        <span id="userNickname" class="user-nickname"></span>
        <button id="logoutBtn" class="logout-btn" title="–í—ã–π—Ç–∏">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </header>

    <main class="map-wrapper">
      <div id="map"></div>
    </main>

    <aside id="sidebar" class="sidebar">
      <div class="sidebar-content">
        <!-- (–æ—Å—Ç–∞–≤–ª–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π HTML –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏) -->
      </div>
    </aside>
  </div>

  <!-- —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
  <div id="connectionStatus" class="connection-status connecting">
    <i class="fas fa-spinner fa-spin"></i><span>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ‚Ä¶</span>
  </div>
  <div id="notificationsContainer" class="notifications-container"></div>

  <!-- ==== JS-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (NON-module) =================================== -->
  <script src="https://cdn.socket.io/4.7.0/socket.io.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- ==== –ö–æ–Ω—Ñ–∏–≥ + –º–æ–¥—É–ª–∏  (–í–°–ï type=module) =========================== -->
  <script type="module" src="./js/config.js"></script>
  <script type="module" src="./js/modules/UIManager.js"></script>
  <script type="module" src="./js/modules/NotificationManager.js"></script>
  <script type="module" src="./js/modules/ConnectionManager.js"></script>
  <script type="module" src="./js/modules/AuthManager.js"></script>
  <script type="module" src="./js/modules/MapManager.js"></script>
  <script type="module" src="./js/modules/MarkerManager.js"></script>
  <script type="module" src="./js/modules/ChatManager.js"></script>
  <script type="module" src="./js/modules/TripPlanningManager.js"></script>
  <script type="module" src="./js/app.js"></script>
</body>
</html>
